<!DOCTYPE html>
<html lang="ua">
<head>
	<%- include('base/head'); %>
	<link rel="stylesheet" typDe="text/css" href="styles/css/courses.css">
</head>
<body>
	<div class="footer-push row">
		<header class="row">
			<%- include('base/menu', {active: 1});%>
		</header>
		<main class="row container">
			<section class="courses row">
				<h2 class="title">Курси</h2>
				<!-- SORT OPTIONS -->
				<form id="sort-options" action="" method="GET">
					<label>
						Сортувати за: 
						<select name="order" onchange="this.form.submit()">
							<% for (var i = 0; i < sortFields.length; i++) { %>
								<option value="<%= sortFields[i].field %>" 
									<% if (sortFields[i].field === sortOptions.field) {%> selected <% } %> >
									<%= sortFields[i].name %>
								</option>
							<% } %>
						</select>
					</label>
					<input type="checkbox" name="dir" value="asc" onchange="this.form.submit()" id="sort-dir" hidden
						<% if (sortOptions.order === "asc") {%> checked <% } %> >
					<label class="sort-ico" for="sort-dir"></label>
					<span class="separator">|</span>
					<label>
						З початку:
						<select name="sort-date" onchange="this.form.submit()">
							<% for (var i = 0; i < dateOrders.length; i++) { %>
								<option value="<%= dateOrders[i].value %>" 
									<% if (dateOrders[i].value === sortOptions.dateOrder) {%> selected <% } %> >
									<%= dateOrders[i].name %>
								</option>
							<% } %>
						</select>
					</label>
				</form>
				<!-- ************ -->
				<!-- COURSES -->
				<div class="courses-container row">
					<% for (var i = 0; i < courses.length; i++) { %>
						<article class="course col-4">
							<img src="img/courses/<%= courses[i].imageName %>" alt="<%= courses[i].name %>">
							<p class="description">
								<strong><%= courses[i].name %></strong>
								<%= courses[i].description %>
							</p>
							<a href="#" class="reference">Дивитись більше...</a>
							<a href="#" class="like"><div></div><%= courses[i].likes %></a>
						</article>
					<% } %>
				</div>
				<!-- ******* -->
			</section>
			<!-- PAGINATION -->
			<section class="pagination-big desktop">
				Сторінка:
				<ul>
					<% for (var i = 0; i < pageList.pages.length; i++)  { %>
						<% if (pageList.pages[i] !== pageList.current) { %>
							<% if (pageList.pages[i]) { %>
								<li>
									<a href="courses?<%= sortQuery %>&page=<%= pageList.pages[i] %>">
										<%= pageList.pages[i] %>		
									</a>
								</li>
							<% } else { %>
								<li>...</li>
							<% } %>
						<% } else { %>
							<li><%= pageList.pages[i] %></li>
						<% } %>
					<% } %>
				</ul>
			</section>
			<section class="pagination-small mobile">
				<% if (pageList.current > 1) { %>
					<a href="courses?<%= sortQuery %>&page=<%= pageList.current - 1 %>">
						Попередня
					</a>
				<% } else { %> 
					Попередня 
				<% } %>
				|
				<% if (pageList.current < pageCount) { %>
					<a href="courses?<%= sortQuery %>&page=<%= pageList.current + 1 %>">
						Наступна
					</a>
				<% } else { %> 
					Наступна 
				<% } %>
			</section>
			<!-- ********** -->
		</main>
	</div>
	<%- include('base/footer'); %>
</body>
</html>